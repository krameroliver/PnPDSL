// automatically generated by Xtext
grammar de.senacor.com.smt.dsl.SimpleDSL with org.eclipse.xtext.common.Terminals


import "de.senacor.smt.smtmetamodel" 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

Document returns Document:
	{Document}
	'package' name=ID //vordefiniert ist ESTRING
	
	(entites+=Entity)*
;

EString returns ecore::EString:
	STRING | ID;
	
terminal key : 'T'|'F';




	
QualifiedName:
	(ID '.')* ID
;

Entity returns Entity:
	{Entity}
	'Entity'
	name=EString
	'{'
		('fields' '{' fields+=Field ( "," fields+=Field)* '}' )?
		('relationships' '{' relationships+=Relationship ( ',' relationships+=Relationship)* '}')?
		('includes' '{' Includes+=Includes (',' Includes+=Includes)*'}')?
	'}';

Field returns Field:
	{Field}
	'Field' name=EString '{'
		('Type' type=DataType)?
		('Length' length=INT)?
		('Precision' preciscion=INT)?
		('Scale' scale=INT)?
		('Key' Key=key)?
	'}'
;

Relationship returns Relationship:
	{Relationship}
	'Relationship' name=EString '{'
		'to' toEntity=[Entity|QualifiedName]
	'}'
;

Includes returns Includes:
	{Includes}
	'INCLUDE'
	name=EString
	'{'
	   ('fields' '{' field+=Field ( "," field+=Field)* '}' )?
	'}';


enum DataType returns DataType:
	STRING = 'STRING' | NUMBER = 'NUMBER' | DATE = 'DATE'
; 